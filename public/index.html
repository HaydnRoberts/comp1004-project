<!doctype html>
<html>
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link href="./output.css" rel="stylesheet">
</head>
<body>
  <div class="bg-white">
    <header class="absolute inset-x-0 top-0 z-50">
      <nav class="flex items-center p-6 lg:px-12" aria-label="Global">
        <button id="nav-toggle" class="text-gray-900 font-semibold p-2 lg:hidden">‚ò∞</button>
        <div class="hidden lg:flex lg:gap-x-12 max-w-md mx-auto">
          <button id="game-1" class="text-sm/6 font-semibold text-gray-900">Maze game</button>
          <button id="game-2" class="text-sm/6 font-semibold text-gray-900">Clicker game</button>
          <button id="game-3" class="text-sm/6 font-semibold text-gray-900">Turn based combat game</button>
        </div>
      </nav>
      <div class="lg:hidden hidden" role="dialog" aria-modal="true">
        <div class="fixed inset-y-0 right-0 z-50 w-full overflow-y-auto bg-white px-6 py-6 sm:max-w-sm sm:ring-1 sm:ring-gray-900/10">
          <button id="nav-toggle" class="text-gray-900 font-semibold p-2 lg:hidden">‚ò∞</button>
          <div class="space-y-2 py-6">
            <button id="game-1" class="-mx-3 block rounded-lg px-3 py-2 text-base/7 font-semibold text-gray-900 hover:bg-gray-50">Maze game</button>
            <button id="game-2" class="-mx-3 block rounded-lg px-3 py-2 text-base/7 font-semibold text-gray-900 hover:bg-gray-50">Clicker game</button>
            <button id="game-3" class="-mx-3 block rounded-lg px-3 py-2 text-base/7 font-semibold text-gray-900 hover:bg-gray-50">Turn based combat game</button>
          </div>
        </div>
      </div>
    </header>
    <script src="./navbutton.js"></script>
  </div>

  <div class="w-full max-w-xl p-8 mx-auto mt-24 bg-white shadow-lg rounded-lg text-center">
    <div id="game-1-block" class="hidden">
      <p>Maze game</p>
      <div id="maze-game-output"></div>

      <button class="pt-2 px-2" type="button" onclick="upMaze()">ü¢Å</button>
      <br>
      <button class="px-2" type="button" onclick="leftMaze()">ü¢Ä</button>
      <button class="px-2" type="button" onclick="rightMaze()">ü¢Ç</button>
      <br>
      <button class="pb-2 px-2" type="button" onclick="downMaze()">ü¢É</button>
      <br>
      <button class="p-2 m-2 rounded-lg border-2 border-dashed border-black" type="button" onclick="newMaze()">Generate new maze</button>

      <script src="./mazeminigame.js"></script>
    </div>

    <div id="game-2-block" class="hidden">
      <p class="p-8 text-xl">Clicker game</p>

      <p class="text-sm">Total clicks:</p>
      <p class="text-sm" id="total-clicker-output"></p>
      <p class="text-base">Current clicks:</p>
      <p class="text-xl" id="clicker-output"></p>
      <button class="p-8" type="button" onclick="clicked()">Click Me!</button>
 
      <button class="p-8" type="button" onclick="reset()">Reset Me!</button>

      <hr>
      <p class="text-xl">Store:</p>
      <div class="flex pb-8">
        <div class="mx-auto">
          <p class="text-sm">Auto level:</p>
          <p class="text-sm" id="auto-level"></p>

          <p class="text-sm">Auto price:</p>
          <p class="text-sm" id="auto-price"></p>
          
          <button type="button" onclick="auto()">Buy Auto clicker</button>
        </div>
        <div class="mx-auto">
          <p class="text-sm">Bonus level:</p>
          <p class="text-sm" id="bonus-level"></p>

          <p class="text-sm">Bonus price:</p>
          <p class="text-sm" id="bonus-price"></p>
          
          <button type="button" onclick="bonus()">Buy Bonus clicks</button>
        </div>
      </div>
      <hr>
      <p class="text-xl">Bank of clicks:</p>
      <div class="flex pb-8">
        <div class="mx-auto">
          <p class="text-sm">Loan offer(20% interest):</p>
          <!--loan offer should be 50x bonus level-->
          <p class="text-sm" id="loan-offer"></p>
          <p class="text-sm">current debt:</p>
          <p class="text-sm" id="debt"></p>

          <p class="text-xs">(autoclicks are cancelled while in debt)</p>

          <button class="pb-2" type="button" onclick="loan()">Take out a loan</button>
          <hr >
          <button class="pt-2" type="button" onclick="debt()">Pay off debt</button>
        </div>
        <div class="mx-auto">
          <p class="text-sm">Feature not added yet</p>
        </div>
        </div>
    
      
      <script src="./clickerminigame.js"></script>
    </div>

    <div id="game-3-block" class="hidden">
      <p class="p-8 text-xl">Turn based combat game</p>
      <p class="text-lg" id="scoreBox"></p>

      <div class="hidden" id="game-3-type-choice">
        <!-- Select your monster type here -->
        <button class="p-2 m-2 rounded-lg border-2 border-solid border-black w-1/4 mx-auto" type="button" onclick="chooseType(0)">
          <img src="/comp1004-PROJECT/public/Images/RedWyvern320px.webp" class="w-full h-auto" />
          Fire
        </button>
        <button class="p-2 m-2 rounded-lg border-2 border-solid border-black w-1/4 mx-auto" type="button" onclick="chooseType(1)">
          <img src="/comp1004-PROJECT/public/Images/IceDragon320px.webp" class="w-full h-auto" />
          Ice
        </button>
        <button class="p-2 m-2 rounded-lg border-2 border-solid border-black w-1/4 mx-auto" type="button" onclick="chooseType(2)">
          <img src="/comp1004-Project/public/Images/GreenWyvern320px.webp" class="w-full h-auto" />
          Healer
        </button>
        <button class="p-2 m-2 rounded-lg border-2 border-solid border-black w-1/4 mx-auto" type="button" onclick="chooseType(3)">
          <img src="/comp1004-PROJECT/public/Images/VenomDragon320px.webp" class="w-full h-auto" />
          Poison
        </button>
        <button class="p-2 m-2 rounded-lg border-2 border-solid border-black w-1/4 mx-auto" type="button" onclick="chooseType(4)">
          <img src="/comp1004-PROJECT/public/Images/GroundWorm320px.webp" class="w-full h-auto" />
          Ground
        </button>
        <button class="p-2 m-2 rounded-lg border-2 border-solid border-black w-1/4 mx-auto" type="button" onclick="chooseType(5)">
          <img src="/comp1004-PROJECT/public/Images/FlyingMonster320px.webp" class="w-full h-auto" />
          Flying
        </button>
        <button class="p-2 m-2 rounded-lg border-2 border-solid border-black w-1/4 mx-auto" type="button" onclick="chooseType(6)">
          <img src="/comp1004-PROJECT/public/Images/EvilFrog320px.webp" class="w-full h-auto" />
          Metal
        </button>
        <button class="p-2 m-2 rounded-lg border-2 border-solid border-black w-1/4 mx-auto" type="button" onclick="chooseType(7)">
          <img src="/comp1004-PROJECT/public/Images/ElectricDog320px.webp" class="w-full h-auto" />
          Electric
        </button>
      </div>
      <div class="hidden" id="game-3-subclass-choice">
        <!-- Select your monster subclass here -->
        <button class="p-2 m-2 rounded-lg border-2 border-dashed border-black w-1/3 mx-auto" type="button" onclick="subclass(0)" id="subclass0"></button>
        <button class="p-2 m-2 rounded-lg border-2 border-dashed border-black w-1/3 mx-auto" type="button" onclick="subclass(1)" id="subclass1"></button>
      </div>

<!-- Show this during combat encounters -->
<div class="hidden" id="game-3-combat">
  <div class="relative flex justify-center items-center px-8 pt-16 rounded-lg shadow-lg">
    <!-- Background Image, free trial adobe standard licence image-->
    <div class="absolute inset-0 bg-cover bg-center z-0" style="background-image: url('/comp1004-PROJECT/public/Images/AdobeStock_538009699_Preview.jpeg');"></div>

    <!-- Fireflies Animation -->
    <div class="absolute inset-0 overflow-hidden pointer-events-none z-10">
      <div class="absolute w-2 h-2 bg-yellow-400 rounded-full opacity-75 animate-firefly delay-0" style="top: 10%; left: 20%;"></div>
      <div class="absolute w-2 h-2 bg-yellow-400 rounded-full opacity-75 animate-firefly-2 delay-1000" style="top: 64%; left: 62%;"></div>
      <div class="absolute w-2 h-2 bg-yellow-400 rounded-full opacity-75 animate-firefly-3 delay-2000" style="top: 53%; left: 10%;"></div>
      <div class="absolute w-2 h-2 bg-yellow-400 rounded-full opacity-75 animate-firefly-4 delay-3000" style="top: 28%; left: 43%;"></div>
      <div class="absolute w-2 h-2 bg-yellow-400 rounded-full opacity-75 animate-firefly-5 delay-4000" style="top: 56%; left: 65%;"></div>
    </div>

    <!-- Combat visuals (horizontal stack) -->
    <div class="flex justify-between w-full max-w-4xl z-20">
      <!-- Player's monster (vertical stack) -->
      <div class="flex flex-col items-center w-1/3">
        <p class="text-center text-md outlined-text" id="player-type">Type</p> <!-- Type -->
        <div class="flex items-center w-full">
          <p class="text-sm flex-1 text-right outlined-text" id="player-subclass">Subclass</p> <!-- Subclass -->
          <p class="text-sm mx-2 text-white">‚ùñ</p> <!-- Centered Divider -->
          <p class="text-sm flex-1 text-left outlined-text" id="player-item">Item</p> <!-- Item -->
        </div>
        <p class="text-center text-xs outlined-text" id="player-health">Health bar</p> <!-- Health bar -->
        <p class="text-center text-xs outlined-text" id="player-status">Status effects: None</p> <!-- Status effects -->
        <img id="player-image" src="" class="w-full h-auto animate-breathe-flipped" /> <!-- Monster image -->
      </div>
  
      <!-- Spacing between monsters -->
      <div class="w-1/3"></div>
  
      <!-- Enemy's monster (vertical stack) -->
      <div class="flex flex-col items-center w-1/3">
        <p class="text-center text-md outlined-text" id="enemy-type">Type</p> <!-- Type -->
        <div class="flex items-center w-full">
          <p class="text-sm flex-1 text-right outlined-text" id="enemy-subclass">Subclass</p> <!-- Subclass -->
          <p class="text-sm mx-2 text-white">‚ùñ</p> <!-- Centered Divider -->
          <p class="text-sm flex-1 text-left outlined-text" id="enemy-item">Item</p> <!-- Item -->
        </div>
        <p class="text-center text-xs outlined-text" id="enemy-health">Health bar</p> <!-- Health bar -->
        <p class="text-center text-xs outlined-text" id="enemy-status">Status effects: None</p> <!-- Status effects -->
        <img id="enemy-image" src="" class="w-full h-auto animate-breathe" /> <!-- Monster image -->
      </div>
    </div>
  </div>

  <!-- a box to tell the user what just happened -->
  <p class="border-2 px-4 border-solid text-xs text-gray-800 z-20 bg-opacity-80 bg-white rounded-lg p-4" id="what-just-happened-box"></p>
  <div id="game-3-combat-buttons">
    <div class="flex z-20">
      <button class="p-2 m-2 rounded-lg border-2 border-dashed border-black w-1/3 mx-auto" type="button" onclick="playerMove('attack')">Attack</button>
      <button class="p-2 m-2 rounded-lg border-2 border-dashed border-black w-1/3 mx-auto" type="button" onclick="playerMove('subclass')">Subclass Move</button>
    </div>
    <div class="flex z-20">
      <button class="p-2 m-2 rounded-lg border-2 border-dashed border-black w-1/3 mx-auto" type="button" onclick="playerMove('item')">Item Move</button>
      <button class="p-2 m-2 rounded-lg border-2 border-dashed border-black w-1/3 mx-auto" type="button">Inventory üîí</button>
    </div>
  </div>
  <div id="game-3-loss-buttons">
    <button class="p-2 m-2 rounded-lg border-2 border-dashed border-black w-1/3 mx-auto" type="button" onclick="retry()">Retry?</button>
  </div>
  <div id="game-3-win-buttons">
    <button class="p-2 m-2 rounded-lg border-2 border-dashed border-black w-1/3 mx-auto" type="button" onclick="nextEnemy()">Face a new Monster</button>
    <!-- The inventory cannot be used during a fight (Cause that would make the game too easy) -->
    <button class="p-2 m-2 rounded-lg border-2 border-dashed border-black w-1/3 mx-auto" type="button" onclick="showInventory()">Inventory</button>
  </div>
</div>  

<!-- I found some online guides for animations and discovered that I could use this for a simple firefly effect that makes the game so much prettier -->
 <!-- each firefly essentially has random movements as I just used any random numbers to give them unpredictable flight patterns -->
<style>
  .outlined-text {
    color: white;
    text-shadow: 
      1px 1px 2px black, 
      -1px -1px 2px black, 
      1px -1px 2px black, 
      -1px 1px 2px black;
  }  
  @keyframes firefly {
    0% { transform: translateY(-800px) translateX(400px); opacity: 0.2; }
    25% { transform: translateY(300px) translateX(100px); opacity: 1; }
    50% { transform: translateY(100px) translateX(-120px); opacity: 0.7; }
    75% { transform: translateY(-20px) translateX(250px); opacity: 1; }
    100% { transform: translateY(120px) translateX(20px); opacity: 0.4; }
  }

  @keyframes firefly-2 {
    0% { transform: translateY(600px) translateX(-100px); opacity: 0.6; }
    25% { transform: translateY(110px) translateX(-40px); opacity: 0.2; }
    50% { transform: translateY(-300px) translateX(-200px); opacity: 1; }
    75% { transform: translateY(110px) translateX(-40px); opacity: 0.3; }
    100% { transform: translateY(100px) translateX(600px); opacity: 0.6; }
  }

  @keyframes firefly-3 {
    0% { transform: translateY(100px) translateX(200px); opacity: 0.6; }
    25% { transform: translateY(110px) translateX(-40px); opacity: 0.6; }
    50% { transform: translateY(200px) translateX(150px); opacity: 1; }
    60% { transform: translateY(10px) translateX(-40px); opacity: 0.3; }
    100% { transform: translateY(-120px) translateX(800px); opacity: 0.6; }
  }

  @keyframes firefly-4 {
    0% { transform: translateY(120px) translateX(200px); opacity: 0.6; }
    33% { transform: translateY(-20px) translateX(250px); opacity: 1; }
    66% { transform: translateY(300px) translateX(100px); opacity: 0.4; }
    100% { transform: translateY(110px) translateX(-40px); opacity: 0.6; }
  }

  @keyframes firefly-5 {
    0% { transform: translateY(400px) translateX(-600px); opacity: 0.6; }
    50% { transform: translateY(300px) translateX(100px); opacity: 1; }
    100% { transform: translateY(-120px) translateX(800px); opacity: 0.6; }
  }

  .animate-firefly {
    animation: firefly 60s infinite ease-in-out alternate;
    position: absolute;
  }
  .animate-firefly-2 {
    animation: firefly-2 60s infinite ease-in-out alternate;
    position: absolute;
  }
  .animate-firefly-3 {
    animation: firefly-3 60s infinite ease-in-out alternate;
    position: absolute;
  }
  .animate-firefly-4 {
    animation: firefly-4 60s infinite ease-in-out alternate;
    position: absolute;
  }
  .animate-firefly-5 {
    animation: firefly-5 60s infinite ease-in-out alternate;
    position: absolute;
  }

  .animate-breathe {
    animation: breathe 5s infinite ease-in-out alternate;
  }
  @keyframes breathe {
    0% { transform: scale(1); }
    100% { transform: scale(1.05); }
  }
  .animate-breathe-flipped {
    animation: breathe-flipped 4s infinite ease-in-out alternate;
  }
  @keyframes breathe-flipped {
    0% { transform: scale(1.05) scaleX(-1); }
    100% { transform: scale(1) scaleX(-1); }
  }
</style>

  <!-- Inventory screen for game 3 -->
<div id="game-3-inventory">
    <!-- my goal is to have these be faded and have a lock on them, but after killing the monster with that type, you unlock that item, clicking on an item you have, will equip it on your monster -->
    <button class="p-2 m-2 rounded-lg border-2 border-solid border-black w-1/4 mx-auto inventory-item" type="button" data-item="Flame" onclick="equipItem('Flame')">
      <img src="/comp1004-PROJECT/public/Images/redSteak320px.png" class="w-full h-auto" />
      Flame Item
    </button>
    <button class="p-2 m-2 rounded-lg border-2 border-solid border-black w-1/4 mx-auto inventory-item" type="button" data-item="Molten" onclick="equipItem('Molten')">
      <img src="/comp1004-PROJECT/public/Images/redSteak320px.png" class="w-full h-auto" />
      Molten Item
    </button>
    <button class="p-2 m-2 rounded-lg border-2 border-solid border-black w-1/4 mx-auto inventory-item" type="button" data-item="Medic" onclick="equipItem('Medic')">
      <img src="/comp1004-PROJECT/public/Images/greenSteak320px.png" class="w-full h-auto" />
      Medic Item
    </button>
    <button class="p-2 m-2 rounded-lg border-2 border-solid border-black w-1/4 mx-auto inventory-item" type="button" data-item="Vampiric" onclick="equipItem('Vampiric')">
      <img src="/comp1004-PROJECT/public/Images/greenSteak320px.png" class="w-full h-auto" />
      Vampiric Item
    </button>
    <button class="p-2 m-2 rounded-lg border-2 border-solid border-black w-1/4 mx-auto inventory-item" type="button" data-item="Charge" onclick="equipItem('Charge')">
      <img src="/comp1004-PROJECT/public/Images/greySteak320px.png" class="w-full h-auto" />
      Charge Item
    </button>
    <button class="p-2 m-2 rounded-lg border-2 border-solid border-black w-1/4 mx-auto inventory-item" type="button" data-item="Grounded" onclick="equipItem('Grounded')">
      <img src="/comp1004-PROJECT/public/Images/greySteak320px.png" class="w-full h-auto" />
      Grounded Item
    </button>
    <button class="p-2 m-2 rounded-lg border-2 border-solid border-black w-1/4 mx-auto inventory-item" type="button" data-item="Blade" onclick="equipItem('Blade')">
      <img src="/comp1004-PROJECT/public/Images/metalFrogSkull320px.png" class="w-full h-auto" />
      Blade Item
    </button>
    <button class="p-2 m-2 rounded-lg border-2 border-solid border-black w-1/4 mx-auto inventory-item" type="button" data-item="Armour" onclick="equipItem('Armour')">
      <img src="/comp1004-PROJECT/public/Images/metalFrogSkull320px.png" class="w-full h-auto" />
      Armour Item
    </button>
    <button class="p-2 m-2 rounded-lg border-2 border-solid border-black w-1/4 mx-auto inventory-item" type="button" data-item="Sandstorm" onclick="equipItem('Sandstorm')">
      <img src="/comp1004-PROJECT/public/Images/spineCollection320px.png" class="w-full h-auto" />
      Sandstorm Item
    </button>
    <button class="p-2 m-2 rounded-lg border-2 border-solid border-black w-1/4 mx-auto inventory-item" type="button" data-item="Flora" onclick="equipItem('Flora')">
      <img src="/comp1004-PROJECT/public/Images/spineCollection320px.png" class="w-full h-auto" />
      Flora Item
    </button>
    <button class="p-2 m-2 rounded-lg border-2 border-solid border-black w-1/4 mx-auto inventory-item" type="button" data-item="Breeze" onclick="equipItem('Breeze')">
      <img src="/comp1004-PROJECT/public/Images/wing320px.png" class="w-full h-auto" />
      Breeze Item
    </button>
    <button class="p-2 m-2 rounded-lg border-2 border-solid border-black w-1/4 mx-auto inventory-item" type="button" data-item="Clense" onclick="equipItem('Clense')">
      <img src="/comp1004-PROJECT/public/Images/wing320px.png" class="w-full h-auto" />
      Clense Item
    </button>
    <button class="p-2 m-2 rounded-lg border-2 border-solid border-black w-1/4 mx-auto inventory-item" type="button" data-item="Venom" onclick="equipItem('Venom')">
      <img src="/comp1004-PROJECT/public/Images/poisonEye320px.png" class="w-full h-auto" />
      Venom Item
    </button>
    <button class="p-2 m-2 rounded-lg border-2 border-solid border-black w-1/4 mx-auto inventory-item" type="button" data-item="Viral" onclick="equipItem('Viral')">
      <img src="/comp1004-PROJECT/public/Images/poisonEye320px.png" class="w-full h-auto" />
      Viral Item
    </button>
    <button class="p-2 m-2 rounded-lg border-2 border-solid border-black w-1/4 mx-auto inventory-item" type="button" data-item="Freeze" onclick="equipItem('Freeze')">
      <img src="/comp1004-PROJECT/public/Images/iceEye320px.png" class="w-full h-auto" />
      Freeze Item
    </button>
    <button class="p-2 m-2 rounded-lg border-2 border-solid border-black w-1/4 mx-auto inventory-item" type="button" data-item="Slow" onclick="equipItem('Slow')">
      <img src="/comp1004-PROJECT/public/Images/iceEye320px.png" class="w-full h-auto" />
      Slow Item
    </button>
    <hr>
    <button class="p-2 m-2 rounded-lg border-2 border-dashed border-black w-1/3 mx-auto" type="button" onclick="closeInventory()">Close Inventory</button>
  </div>
    <script src="./turnbasedgame.js"></script>
  </div>
  <script src="./gameselector.js"></script>

  <div class="w-full max-w-md p-8 mx-auto mt-24 bg-white shadow-sm rounded-lg text-center">
    <button class="p-8" type="button" onclick="savedata()">Save your scores!</button>
    <script src="./jsonlogic.js"></script>
  </div>


</body>
</html>

